{"version":3,"file":"static/js/242.cc89be0e.chunk.js","mappings":"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","sources":["components/PageHeader/index.jsx","components/Title/index.jsx","pages/CheckoutPage/Orders.jsx","pages/CheckoutPage/index.jsx"],"sourcesContent":["// RENDER: PAGE HEADER\r\n// Nhận vào:\r\n//     -- props.title : Tiêu đề của trang\r\n//     -- props.slug : Các link parent ( chưa được triển khai ở project này )\r\n//     -- props.last : Tên trang hiện tại\r\n// Callback: Không\r\n\r\n// IMPORT\r\nimport { Link } from 'react-router-dom';\r\nimport { HOME } from 'config';\r\n\r\nimport './style.scss';\r\nexport default function PageHeader(props) {\r\n    return (\r\n\r\n        <div className='page-title'>\r\n            <div className='flex x--between y--center'>\r\n                <div className='col'>\r\n                    <h2>{props.title}</h2>\r\n                </div>\r\n                <div className='col--min'>\r\n                    <div className='slug-link'>\r\n                        <Link to={HOME + '/'} >Home</Link>\r\n                        <span>{props.last}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","// RENDER: TITLE\r\n// Nhận vào:\r\n//     -- props.title (Bắt buộc) : Tiêu đề\r\n//     -- props.subtitle \r\n//     -- props.align : left or center or right\r\n// Callback: Không\r\n\r\n// CSS & RENDER\r\nimport './style.scss';\r\nexport default function Title(props) {\r\n    return (\r\n        <div className={`title ${props.align ? 'title--' + props.align : ''}`}>\r\n            {props.subtitle && (\r\n                <p>{props.subtitle}</p>\r\n            )}\r\n            <h2>{props.title}</h2>\r\n        </div>\r\n    )\r\n}","import { useSelector } from \"react-redux\"\r\n\r\nexport default function Orders() {\r\n    const cart = useSelector(state => state.cart);\r\n    return (\r\n        <div className=\"bg-light pd pi--30\">\r\n            <div className=\"gap--10\"></div>\r\n            <h5>YOUR ORDER</h5>\r\n            <div className=\"gap--10\"></div>\r\n            <ul className=\"alt\">\r\n                {cart.items.length > 0 && (\r\n                    cart.items.map((p, i) => {\r\n                        return (\r\n                            <li className=\"flex x--between y--center\" key={i}>\r\n                                <div><h6><small>{p.name}</small></h6></div>\r\n                                <div><small>{new Intl.NumberFormat(\"de-DE\").format(p.price) + 'đ'} * {p.amount}</small></div>\r\n                            </li>\r\n                        )\r\n                    })\r\n                )}\r\n                <li className=\"divider\"></li>\r\n                <li className=\"flex x--between y--center\">\r\n                    <div><h6>TOTAL</h6></div>\r\n                    <div><h6>{new Intl.NumberFormat(\"de-DE\").format(cart.totalPay) + ' VNĐ'}</h6></div>\r\n                </li>\r\n            </ul>\r\n            <div className=\"gap\"></div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { SERVER_API, ORDER_PAGE } from \"config\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { clearCart } from \"store/cart\";\r\n\r\nimport PageHeader from \"components/PageHeader\";\r\nimport Title from \"components/Title\";\r\nimport Orders from \"./Orders\";\r\n\r\nimport './style.scss';\r\nexport default function CheckoutPage() {\r\n    const user = useSelector(state => state.user);\r\n    const cart = useSelector(state => state.cart);\r\n    const dispatch = useDispatch();\r\n    const client = axios.create({ baseURL: SERVER_API });\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (!user.token) toast.error('Bạn cần đăng nhập để có thể hoàn tất đơn hàng.');\r\n        if (!(cart.items.length > 0)) toast.error('Không có gì trong giỏ hàng cả.')\r\n    }, []);\r\n\r\n    const submitFormHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            fullname: e.target.fullname.value,\r\n            phone: e.target.phone.value,\r\n            address: e.target.address.value,\r\n            orders: []\r\n        }\r\n        cart.items.forEach(el => {\r\n            data.orders.push({\r\n                id: el.id,\r\n                name: el.name,\r\n                amount: el.amount\r\n            })\r\n        });\r\n\r\n        client.post('/orders?token=' + user.token, data).then((res) => {\r\n            toast.success('Đặt hàng thành công!');\r\n            dispatch(clearCart());\r\n            navigate(ORDER_PAGE);\r\n        }).catch(e => {\r\n            if (e.response && e.response.data) {\r\n                toast.error(e.response.data.errors[0]);\r\n            } else {\r\n                toast.error('Máy chủ gặp sự cố, vui lòng thử lại');\r\n            }\r\n        });\r\n    }\r\n    return (\r\n        <main>\r\n            <section className=\"clear--padding\">\r\n                <div className=\"container\">\r\n                    <PageHeader title='Checkout' slug='' last='Checkout' />\r\n                </div>\r\n            </section>\r\n            <section>\r\n                <div className=\"container\">\r\n                    <div className=\"gap\"></div>\r\n                    <Title title='BILLING DETAILS' />\r\n                    <div className=\"gap--20\"></div>\r\n                    <div className=\"flex flex--gap checkout-page\">\r\n                        <div className=\"col-sm-12 col-lg-8\">\r\n                            <div className=\"checkout-form\">\r\n                                <form onSubmit={submitFormHandler}>\r\n                                    <div>\r\n                                        <label className=\"uppercase\">Email</label>\r\n                                        <input type=\"text\" className=\"input\" placeholder=\"Enter your email here!\" disabled={true}\r\n                                            defaultValue={user.email ?? ''}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"gap--20\"></div>\r\n                                    <div>\r\n                                        <label className=\"uppercase\">Full name</label>\r\n                                        <input type=\"text\" className=\"input\" name=\"fullname\" placeholder=\"Enter your full name here!\" required={true}\r\n                                            defaultValue={user.fullname ?? ''}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"gap--20\"></div>\r\n                                    <div>\r\n                                        <label className=\"uppercase\">Phone Number</label>\r\n                                        <input type=\"text\" className=\"input\" name=\"phone\" placeholder=\"Enter your phone numbers here!\" required={true} />\r\n                                    </div>\r\n                                    <div className=\"gap--20\"></div>\r\n                                    <div>\r\n                                        <label className=\"uppercase\">Adress</label>\r\n                                        <input type=\"text\" className=\"input\" name=\"address\" placeholder=\"Enter your adress here!\" required={true} />\r\n                                    </div>\r\n                                    <div className=\"gap\"></div>\r\n                                    <div>\r\n                                        <button className=\"btn black pi uppercase\" disabled={(!user.token || cart.items.length === 0) ? true : false}>\r\n                                            Place order\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <Orders />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"gap--50\"></div>\r\n                </div>\r\n            </section>\r\n        </main>\r\n    )\r\n}"],"names":["PageHeader","props","_jsx","className","children","_jsxs","title","Link","to","HOME","last","Title","concat","align","subtitle","Orders","cart","useSelector","state","items","length","map","p","i","name","Intl","NumberFormat","format","price","amount","totalPay","CheckoutPage","_user$email","_user$fullname","user","dispatch","useDispatch","client","axios","baseURL","SERVER_API","navigate","useNavigate","useEffect","token","toast","slug","onSubmit","e","preventDefault","data","fullname","target","value","phone","address","orders","forEach","el","push","id","post","then","res","clearCart","ORDER_PAGE","catch","response","errors","type","placeholder","disabled","defaultValue","email","required"],"sourceRoot":""}