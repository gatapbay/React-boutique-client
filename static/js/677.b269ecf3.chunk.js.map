{"version":3,"file":"static/js/677.b269ecf3.chunk.js","mappings":"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","sources":["pages/LoginPage/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { REGISTER_PAGE, HOME, SERVER_API } from \"config\";\r\nimport { toast } from 'react-toastify';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from 'store/user';\r\n\r\nimport './style.scss';\r\nexport default function LoginPage() {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.user);\r\n    const client = axios.create({ baseURL: SERVER_API });\r\n\r\n    useEffect(() => {\r\n        if (user.token) navigate(HOME + '/');\r\n    }, []);\r\n\r\n    const [emailInput, setEmailInput] = useState('');\r\n    const [passwordInput, setPasswordInput] = useState('');\r\n\r\n    // Xử lý sự kiện submit register\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        const data = { email: emailInput.trim(), password: passwordInput.trim() };\r\n\r\n        if (!data.email || !data.password) {\r\n            toast.error('Một hoặc nhiều trường bị bỏ trống.')\r\n        } else if (data.password.length < 8) {\r\n            toast.error('Mật khẩu không chính xác.');\r\n        } else {\r\n            client.post('/auth/login', data).then((res) => {\r\n                dispatch(login({\r\n                    token: res.data.token,\r\n                    data: res.data.data\r\n                }))\r\n                navigate(HOME + '/');\r\n            }).catch(e => {\r\n                if (e.response && e.response.data) {\r\n                    toast.error(e.response.data.errors[0]);\r\n                } else {\r\n                    toast.error('Máy chủ gặp sự cố, vui lòng thử lại');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div>\r\n                <div className=\"login-bg\" style={{ backgroundImage: 'url(./images/banner/1.jpg)' }}></div>\r\n                <div className=\"container\">\r\n                    <div className=\"login-page\">\r\n                        <div className=\"card pi--30\">\r\n                            <div className=\"card__content align--center\">\r\n                                <h3>SIGN IN</h3>\r\n                                <div className=\"gap\"></div>\r\n                                <div className=\"gap\"></div>\r\n                                <form onSubmit={submitHandler}>\r\n                                    <div className=\"\">\r\n                                        <input type='email' className=\"input\" placeholder=\"Email\"\r\n                                            value={emailInput}\r\n                                            onChange={(e) => setEmailInput(e.target.value.trim())}\r\n                                        />\r\n                                        <input type='password' className=\"input\" placeholder=\"Password\" autoComplete='false'\r\n                                            value={passwordInput}\r\n                                            onChange={(e) => setPasswordInput(e.target.value.trim())}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"gap\"></div>\r\n                                    <div>\r\n                                        <button className=\"btn black\" type='submit'>Sign in</button>\r\n                                    </div>\r\n                                </form>\r\n                                <div className=\"gap--50\"></div>\r\n                                <div className=\"align--center\">\r\n                                    Create account?\r\n                                    <Link to={REGISTER_PAGE} className=\"pi--20\">Sign up</Link>\r\n                                </div>\r\n                                <div className=\"gap--50\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}"],"names":["LoginPage","navigate","useNavigate","dispatch","useDispatch","user","useSelector","state","client","axios","baseURL","SERVER_API","useEffect","token","HOME","_useState","useState","_useState2","_slicedToArray","emailInput","setEmailInput","_useState3","_useState4","passwordInput","setPasswordInput","_jsx","React","children","_jsxs","className","style","backgroundImage","onSubmit","e","preventDefault","data","email","trim","password","length","toast","post","then","res","login","catch","response","errors","type","placeholder","value","onChange","target","autoComplete","Link","to","REGISTER_PAGE"],"sourceRoot":""}